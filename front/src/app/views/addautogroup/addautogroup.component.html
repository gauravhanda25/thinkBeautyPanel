<div class="animated fadeIn">
  <div class="row">
    <div class="col-lg-12">
      	<div class="card">         
           
				<div class="card-header">
					<span *ngIf="editparam.action == 'add'"><i class="fa fa-align-justify"></i>Add New Auto Group</span>
                    <span *ngIf="editparam.action == 'edit'"><i class="fa fa-align-justify"></i>Edit Auto Group</span>
				</div>
                <div class="card-body">  
				 <tabset>
              <tab heading="Profile">
			    <div><form class="form-horizontal ng-untouched ng-pristine ng-valid" novalidate="" (ngSubmit)="onSubmit()" #autoGroupForm="ngForm">
                    <div class="form-group row col-sm-8 col-md-6">
                      	<div class="col-md-12">
							<label for="name">Name<span class="text-danger">*</span></label>
                        	<input class="form-control" name="name" placeholder="Name" type="text"  [(ngModel)]="data.name" required>
                        </div>
                       
						  
						  <div class="col-md-12">
							<label for="name">Address<span class="text-danger">*</span></label>
                          <input class="form-control" name="address" placeholder="Address" type="text"  [(ngModel)]="data.address" required>
                        </div>
						
						<div class="col-md-12">
                          <label>City<span class="text-danger">*</span></label>
                          <input class="form-control" name="city" placeholder="City" type="text"  [(ngModel)]="data.city" required>
                        </div>
						
						<div class="col-md-12">
							<label>Country<span class="text-danger">*</span></label> 
							<select class="form-control" name="country"  [(ngModel)]="data.country" (change) = "onChangeCountry()" required>
							  <option value="" >Select Country</option>
							  <option *ngFor="let country of countries" value="{{country.id}}">{{country.name}}</option>
							</select>
						</div>
						
						<div class="col-md-12">
                          <label>State/Province<span class="text-danger">*</span></label> 
                          <select class="form-control" name="state"  [(ngModel)]="data.state" required>
                            <option value="" >Select State/Province</option>
                            <option *ngFor="let state of provinces" value="{{state.id}}">{{state.name}}</option>
                          </select>
                        </div>
						
						
						
                      
                    </div> 
                    
                   
                 
                  
                        	<input class="form-control" name="created_on" placeholder="Created On" type="hidden"  [(ngModel)]="data.created_on">
                        
                    <div class="form-group row">
                      <div class="col-md-6">                     
                         <button class="btn btn-large btn-primary" type="submit" *ngIf="editparam.action == 'add'" [disabled] = "!autoGroupForm.form.valid">Add Auto Group</button>               
                         <button class="btn btn-large btn-primary" type="submit" *ngIf="editparam.action == 'edit'">Update Auto Group</button>
                      </div>
                    </div> 
                              
              </form></div>   
           
		</tab>
<tab heading="Contact Persons" [disabled]="editparam.action == 'add'">
                <div><form class="form-horizontal ng-untouched ng-pristine ng-valid" novalidate="" #dealerContactForm="ngForm">
                  <div *ngFor="let index of noofcontacts"> 
                    <div class="form-group row">
                      <div class="col-md-6">    
                        <label>Contact Info {{index}}</label>                
                      </div>
                      <div class="col-md-6">
                         <button class="btn btn-small btn-primary pull-right" type="button" (click)="removeContact(index)">-</button>  
                      </div>
                    </div> 
                    <div class="form-group row">
                      <div class="col-md-6">
                        <label>Contact Person<span class="text-danger">*</span></label> 
                        <input class="form-control" name="contactperson[{{index-1}}]" placeholder="Contact Person" type="text"  [(ngModel)]="contactdata.contactperson[index-1]"  value="{{contactdata.contactperson[index-1]}}" required>
                      </div>
                      <div class="col-md-6">
                       <label>Contact Email<span class="text-danger">*</span></label> 
                        <input class="form-control" name="contactemail[{{index-1}}]" placeholder="abc@xyz.com" type="text"  [(ngModel)]="contactdata.contactemail[index-1]" value="{{contactdata.contactemail[index-1]}}" required [textMask]="{mask: emailmask}" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
                      </div>
                    </div> 
                    <div class="form-group row">
                      <div class="col-md-6">
                        <label>Contact Phone<span class="text-danger">*</span></label> 
                        <input class="form-control" name="contactphone[{{index-1}}]" placeholder="Contact Phone" type="text"  [(ngModel)]="contactdata.contactphone[index-1]" value="{{contactdata.contactphone[index-1]}}" required [textMask]="{mask:mask}">
                      </div>
                      <div class="col-md-6">
                        <label>Primary Contact? <span class="text-danger">*</span></label><br/>
                        <input class="input-control" name="primarycontact[{{index-1}}]" type="radio"  [(ngModel)]="contactdata.primarycontact[index-1]" value="yes" required (change)="primaryOnlyOne(index-1)" [disabled] = "primary.disable[index-1]"><label>Yes</label>
                        <input class="input-control" name="primarycontact[{{index-1}}]" type="radio"  [(ngModel)]="contactdata.primarycontact[index-1]" value="no" required (change)="primaryOnlyOne(index-1)"><label>No</label>
                      </div>
                    </div> 
                    <hr/>
                  </div>

                  <div class="form-group row">
                    <div class="col-md-6">                    
                    </div>
                    <div class="col-md-6">
                       <button class="btn btn-small btn-primary pull-right" type="button" (click)="addMoreContact()">+</button>  
                    </div>
                  </div> 
                  <div class="form-group row">
                    <div class="col-md-6">                     
                        <button class="btn btn-large btn-primary" type="button" *ngIf="editparam.action == 'add'"  (click)="saveContacts()" [disabled] = "!dealerContactForm.form.valid"> Save Auto Group Contacts</button>               
                       <button class="btn btn-large btn-primary" type="button" *ngIf="editparam.action == 'edit'"  (click)="updateContacts()" [disabled] = "!dealerContactForm.form.valid">Update Auto Group Contacts</button>
                    </div>
                  </div> 
                </form></div>
              </tab>		
		 </tabset>
		  </div>
    </div>    
  </div>
  <!--/.row-->
</div>
</div>
<toaster-container [toasterconfig]="toasterconfig"></toaster-container>